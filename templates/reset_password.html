
<div ng-controller='PwdResetController as ctrl' ng-cloak>

<!-- 1 -->
<div class="row" ng-if='!ctrl.token && !ctrl.invalid_token && !ctrl.reset_message'>
<div class="col-xs-4 col-xs-offset-4">

<div class='panel panel-info'>

<div class='panel panel-heading'>
  <h4 class='panel-title'>Reset your password</h4>
</div>

<form name="myForm">
<div class='panel panel-body'>

  <div class="form-group">
    <label for="icon_prefix">
      <i class="material-icons prefix">email</i> Your e-mail address
    </label>
    
    <input ng-model="ctrl.reset_email"
      id="email" name="email"
      id="icon_prefix" type="email" class="form-control"
      required autofocus>
    
  </div>

</div>

<div class='panel panel-footer text-right'  style='margin-bottom:0px;'>
  <button ng-click='ctrl.request()' type="submit" class="btn btn-success" >
    Submit request
  </button>
</div>

</form>

</div>
</div>
</div>

<!-- 2 -->
<div class="row text-center" ng-if='ctrl.reset_message'>
<br><br>
<div class="col-xs-6 col-xs-offset-3">

<div class='panel panel-success'>

<div class='panel panel-heading'>
  <h4 class='panel-title'>Reset your password</h4>
</div>

  <div class='panel panel-body'>
    {{ctrl.reset_message}}
  </div>

</div>
</div>
</div>

<!-- 3 -->
<div class="row text-center" ng-if='ctrl.invalid_token'>
<br><br>
<div class="col-xs-6 col-xs-offset-3">

<div class='panel panel-danger'>

<div class='panel panel-heading'>
  <h4 class='panel-title'>Invalid request</h4>
</div>

  <div class='panel panel-body'>
    {{ctrl.invalid_token}}
  </div>

</div>
</div>
</div>

<!-- 4 -->
<div class="row" ng-if='ctrl.token'>
<div class="col-xs-4 col-xs-offset-4">

<div class='panel panel-info'>

<div class='panel panel-heading'>
  <h4 class='panel-title'>Change your password</h4>
</div>

<form name='changePassword' ng-submit="changePassword.$valid && ctrl.changePassword();">

<div class='panel panel-body'>

    <div class="form-group">
        <i class="material-icons prefix">vpn_key</i>
        <label for="icon_prefix">New password</label>
        <input class="form-control" type='password' ng-model="ctrl.newPwd" required minlength="8">
    </div>

    <div class="form-group">
        <i class="material-icons prefix">vpn_key</i>
        <label for="icon_prefix">Confirm password</label>
        <input class="form-control" type='password' ng-model="ctrl.confirmPwd" required minlength="8">
    </div>

</div>

<div class="panel-footer">

<div class='text-right'>
    <button class='btn btn-success' type="submit">Submit</button>
</div>
</div>
<!-- PANEL FOOTER END -->

</form>


</div>
</div>
</div>



</div>
